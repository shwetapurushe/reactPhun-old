<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Component Lifecycle</title>
    <link rel="stylesheet" href="lifecycle.css"/>
    <script src="../build/react.min.js"></script>
    <script src="../build/JSXTransformer.js"></script>
</head>
<body>
    <div id = "mycontent"></div>
    <script type="text/jsx">

        var Render = React.createClass({
            //props and state are accessible only inside the component
            render : function(){
                return(
                        <div>
                            <h4>render Function</h4>
                            <ol>
                                <li>Pure function in that it should always return the same result whenever invoked</li>
                                <li>do not modify the props or state in the render function</li>
                                <li>NO DOM Manipulations here</li>
                            </ol>

                        </div>
                );
            }
        });

        var GetInitialStateFunction = React.createClass({
            render : function(){
                return (
                        <div>
                            <h4>getInitialState Function</h4>
                            <ol>
                                <li>Called only once when initially rendering the component</li>
                                <li>Helps in setting the initial state of the component which is accessible inside the component via this.state</li>
                            </ol>
                        </div>
                );
            }
        });

        var GetDefaultProps = React.createClass({
            render : function(){
                return (
                        <div>
                            <h4>getDefaultProps Function</h4>
                            <ol>
                                <li>Called only once when initially rendering the component</li>
                                <li>Helps in defining the initial properties of the component which is accessible inside the component via this.props</li>

                            </ol>
                        </div>
                );
            }
        });

        var CompoWillMount = React.createClass({
            render : function(){
                return (
                        <div>
                            <h4>componentWillMount Function</h4>
                            <ol>
                                <li>Called only once when initializing the component</li>
                                <li>Setting the state here will not trigger re-rendering</li>
                            </ol>
                        </div>
                );
            }
        });

        var CompoDidMount = React.createClass({
            render : function(){
                return (
                        <div>
                            <h4>componentDidMount Function</h4>
                            <ol>
                                <li>Called only once when initializing the component</li>
                                <li>any DOM manipulation or data fetching</li>
                            </ol>
                        </div>
                );
            }
        });

        var ShouldComponentUpdate = React.createClass({
            render : function(){
                return (
                        <div>
                            <h4>shouldComponentUpdate Function</h4>
                            <ol>
                                <li>Called before render</li>
                                <li>decides if re-rendering is needed</li>
                                <li> shouldComponentUpdate : function(nestProps, nestState){ }</li>
                                <li>returns a boolean</li>
                            </ol>
                        </div>
                );
            }
        });

        var CompoWillUpdate = React.createClass({
            render : function(){
                return (
                        <div>
                            <h4>componentWillUpdate Function</h4>
                            <ol>
                                <li>gets called as soon as the the shouldComponentUpdate returned true</li>
                                <li>prepare for the update, dont make changes via 'this.State' that trigger an update</li>
                                <li> componentWillUpdate : function(nestProps, nestState)</li>
                            </ol>
                        </div>
                );
            }
        });

        var CompoDidUpdate = React.createClass({
            render : function(){
                return (
                        <div>
                            <h4>componentDidUpdate Function</h4>
                            <ol>
                                <li>DOM Manipulations after data has been updated</li>
                                <li> componentDidUpdate : function(prevProps, prevState)</li>
                            </ol>
                        </div>
                );
            }
        });

        var ComponentWillReceiveProps = React.createClass({
            render : function(){
                return (
                        <div>
                            <h4>componentWillReceiveProps Function</h4>
                            <ol>
                                <li>when the props have changed and when this is not an initial rendering</li>
                                <li> componentDidUpdate : function(nextProps)</li>
                                <li> use nextProps to set this.State</li>
                                <li>update the state depending on existing and upcoming props</li>
                                <li>DOES NOT TRIGGER another rendering</li>
                            </ol>
                        </div>
                );
            }
        });



        var LifeCycle = React.createClass({
            render : function(){
                return (
                        <div>
                            <div className = "initial">
                                <h2>Initialization</h2>
                                <GetDefaultProps />
                                <GetInitialStateFunction/>
                                <CompoWillMount/>
                                <Render/>
                                <CompoDidMount/>
                            </div>

                           <div className = "stateUpdate">
                               <h2>State Update</h2>
                               <ShouldComponentUpdate />
                               <CompoWillUpdate />
                               <Render/>
                               <CompoDidUpdate />
                           </div>

                            <div className = "propsUpdate">
                                <h2>Props Update</h2>
                                <ComponentWillReceiveProps/>
                                <ShouldComponentUpdate/>
                                <CompoWillUpdate/>
                                <Render/>
                                <CompoDidUpdate/>
                            </div>

                        </div>
                );
            }
        });

        React.render(<LifeCycle />, document.getElementById('mycontent'));
    </script>
</body>
</html>